<main role="main">
  <div class="container">
    <form [formGroup]="form">
      <div class="row">
        <div class="col-lg-4 col-xl-3">
          <h6 class="mt-4 mt-lg-2 mb-4">Другие категории</h6>
          <div class="aside-accordion-menu list-group">
            <ngx-shop-category-dropdown
              [categories]="categories$ | async"
              formControlName="currentSubCategory"
            ></ngx-shop-category-dropdown>
          </div>
          <h3 class="h5 mt-5 mb-4">Фильтры по товарам</h3>
          <h6 class="mb-2 pb-1">Название</h6>
          <input
            #searchBox
            type="text"
            class="form-control"
            placeholder="Фильтр по названию"
            formControlName="searchByName"
          />
          <ngx-shop-brands
            [brands]="brands$ | async"
            [selectedBrands]="selectedBrands"
            formControlName="brands"
          ></ngx-shop-brands>
          <ngx-shop-price-slider
            [pricesValue]="selectedPrices"
            formControlName="prices"
          >
          </ngx-shop-price-slider>
        </div>
  
        
        <ng-container *ngIf=" !(isLoading$ | async)  ;else second">
          <div  class="col-lg-8 col-xl-9 products-list">
            <ngx-shop-content-product
              *ngFor="let product of products$ | async"
              [product]="product"
            ></ngx-shop-content-product>
          </div>
        </ng-container>
        <ng-template #second>
          <div  class="loader"> <div class="sbl-circ"></div></div>
        </ng-template>

      </div>
    </form>
  </div>
</main>
